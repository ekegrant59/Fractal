<nav class="navbar navbar-custom1 sticky-top d-md-none" data-bs-theme="dark">
    <div class="container-fluid  ">
        <div class="mx-auto">
          <a class="navbar-brand d-flex align-items-center p-0 me-0" href="/">
            <img src="/assets/img/logo.png" alt="logo" class="nav-logo img-fluid me-2">
            <span class="ps-0 fs-2 fw-bold">FRACTAL <span style="color: rgb(212, 175, 55);">EQUITIES</span></span>
          </a>
        </div>
        <div class="dropdown me-0">
          <button class="navbar-toggler custom-toggler p-2 ps-0" type="button"  onclick="toggleSidebar()" id="menuIcon">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
    </div>
  </nav>

  <div id="sidebar" class="pt-2 pt-md-3 pe-2 pe-md-0">
    <div class="mx-auto px-3 px-md-0 ps-md-3 pb-4 pb-md-3 d-none d-md-block">
      <a class="navbar-brand d-flex align-items-center p-0 me-0" href="/">
        <img src="/assets/img/logo.png" alt="logo" class="nav-logo2 img-fluid me-1">
        <span class="ps-0 fs-5 fw-bold">FRACTAL <span style="color: rgb(212, 175, 55);">EQUITIES</span></span>
      </a>
    </div>
    <div class="d-flex justify-content-end d-md-none">
        <button class="p-2 fs-5 bg-transparent text-white"  onclick="closeSidebar()" id="closeIcon22">
            <i class="fa-regular fa-circle-xmark"></i>
        </button>
      </div>
    <ul class="m-0 ps-0 pt-2 pb-3 py-md-0 pe-2 pe-md-0">
        <li class="list-group-item mb-2">
            <a href="/dashboard" class="text-light d-flex align-items-center">
                <i class="ri-dashboard-fill align-bottom fs-5"></i>
                <i class="bi bi-bank2 fs-6"></i>
                <span class="ps-2">Dashboard</span>
            </a>
        </li>
        <p class="nav-list-headings mb-0">Funding</p>
        <li class="list-group-item">
            <a href="/dashboard/deposit" class="text-light d-flex align-items-center">
                <i class="fa-solid fa-building-columns fs-6"></i>
                <i class="bi bi-bank2 fs-6"></i>
                <span class="ps-2">Deposit</span>
            </a>
        </li>
        <li class="list-group-item">
            <a href="/dashboard/trade" class="text-light d-flex align-items-center">
                <i class="fa-solid fa-money-bill-trend-up fs-6"></i>
                <span class="ps-2">Trade</span>
            </a>
        </li>
        <li class="list-group-item mb-2">
            <a href="/dashboard/withdraw" class="text-light d-flex align-items-center">
                <i class="fa-solid fa-money-bills fs-6"></i>
                <span class="ps-2">Withdraw</span>
            </a>
        </li>
        
        <p class="nav-list-headings mb-0">History</p>
        <li class="list-group-item mb-2">
            <a href="/dashboard/history" class="text-light d-flex align-items-center">
                <i class="ri-history-line fs-6"></i>
                <span class="ps-2">Transaction History</span>
            </a>
        </li>
        <p class="nav-list-headings mb-0">Profile</p>
        <li class="list-group-item">
            <a href="/dashboard/profile" class="text-light d-flex align-items-center">
                <i class="ri-user-settings-fill fs-6"></i>
                <span class="ps-2">Account Settings</span>
            </a>
        </li>
        
        <li class="list-group-item text-danger mt-2">
            <a href="/logout"><b><i class="ri-logout-box-line align-bottom"></i> <span ps-1>Log Out</span></b></a></li></a>
        </li>
    </ul>
    <div id="google_translate_element" class="mb-auto px-4"></div>
        <script type="text/javascript">  
            function googleTranslateElementInit() {  
                new google.translate.TranslateElement(  
                    {pageLanguage: 'en'},  
                    'google_translate_element'  
                );  
            }  
        </script>  
        <script type="text/javascript"   
        src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">  
        </script>   
  </div>

  <div id="overlay"></div>
  
  <script>
    
   // JavaScript to toggle the sidebar (for smaller screens)
function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    const isClosed = sidebar.style.transform === 'translateX(0px)';

    sidebar.style.transform = isClosed ? 'translateX(-100%)' : 'translateX(0)';
    
    if (!isClosed) {
        overlay.classList.add('show'); // Show the blur backdrop
    } else {
        overlay.classList.remove('show'); // Hide the blur backdrop
    }
}

function closeSidebar(){
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    const closebtn = document.getElementById('closeIcon22')

    sidebar.style.transform = 'translateX(-100%)'; // Initially hidden on small screens
    overlay.classList.remove('show');
}

// Automatically show the sidebar on larger screens
if (window.innerWidth >= 768) {
    const overlay = document.getElementById('overlay');
    document.getElementById('sidebar').style.transform = 'translateX(0)';
    overlay.classList.remove('show');
}

// Update sidebar visibility on window resize
window.onresize = function () {
    const overlay = document.getElementById('overlay');
    if (window.innerWidth >= 768) {
        document.getElementById('sidebar').style.transform = 'translateX(0)';
        overlay.classList.remove('show');
    } else {
        document.getElementById('sidebar').style.transform = 'translateX(-100%)';
        overlay.classList.remove('show');
    }
};

// Set initial sidebar state on page load for mobile
window.onload = function () {
    const sidebar = document.getElementById('sidebar');
    if (window.innerWidth < 768) {
        sidebar.style.transform = 'translateX(-100%)'; // Initially hidden on small screens
        overlay.classList.remove('show');
    } else {
        sidebar.style.transform = 'translateX(0)'; // Visible on large screens
    }
};

    function setActiveLink() {
        const currentPath = window.location.pathname;
        const links = document.querySelectorAll('#sidebar .list-group-item a');
        
        links.forEach(link => {
            if (link.getAttribute('href') === currentPath) {
                link.parentElement.classList.add('active');  // Add active class to the parent list item
            } else {
                link.parentElement.classList.remove('active');  // Remove active class if not matched
            }
        });
    }

    // Call the function to set the active link when the page loads
    setActiveLink();

   
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>